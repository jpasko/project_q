container_commands:
  01_syncdb:    
    command: "django-admin.py syncdb --noinput"
    leader_only: true
  02_createadmin:
    command: "scripts/createadmin.py"
    leader_only: true
  03_collectstatic:
    command: "django-admin.py collectstatic --noinput"
    leader_only: true
  04_initial_portfolios:
    command: "./manage.py schemamigration portfolios --initial --noinput"
    leader_only: true
  05_initial_accounts:
    command: "./manage.py schemamigration accounts --initial --noinput"
    leader_only: true
  06_migrate_portfolios:
    command: "./manage.py migrate portfolios --noinput --fake"
    leader_only: true
  07_migrate_accounts:
    command: "./manage.py migrate accounts --noinput --fake"
    leader_only: true

option_settings:
  - namespace: aws:elasticbeanstalk:container:python
    option_name: WSGIPath
    value: folio24/wsgi.py
  - option_name: DJANGO_SETTINGS_MODULE
    value: folio24.settings
